---
import { Phone } from 'lucide-astro';
import type { Translations } from '../types';

interface Props {
  t: Translations;
}

const { t } = Astro.props;
---

<section id="home" class="relative min-h-screen pt-[12vh] flex items-center justify-center overflow-hidden">
  <!-- Background image with parallax -->
  <div
    class="rellax absolute inset-0 bg-cover bg-center bg-no-repeat scale-110"
    data-rellax-speed="-4"
    style="background-image: url('/images/handyman.webp'); background-position: center center;"
  ></div>

  <!-- Dark overlay -->
  <div class="absolute inset-0 bg-black/50 z-[1]"></div>

  <!-- Content -->
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10 pt-[8vh] pb-8">
    <div class="animate-fade-in max-w-4xl mx-auto">
      <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-4 sm:mb-6 leading-tight drop-shadow-lg px-4">
        {t.hero.title}
      </h1>

      <p class="text-lg sm:text-xl md:text-2xl text-gray-200 mb-3 sm:mb-4 drop-shadow-md px-4">
        {t.tagline}
      </p>

      <p class="text-base sm:text-lg md:text-xl text-gray-300 mb-6 sm:mb-8 max-w-2xl mx-auto drop-shadow-md px-4">
        {t.hero.subtitle}
      </p>

      <button
        data-scroll-to="contact"
        class="group px-6 sm:px-8 py-3 sm:py-4 bg-yellow-custom hover:bg-[#045a52] hover:text-white text-cyan-dark rounded-xl font-bold text-base sm:text-lg transition-all duration-300 inline-flex items-center gap-2 sm:gap-3 shadow-xl mx-4"
        aria-label={t.hero.cta}
      >
        <span>{t.hero.cta}</span>
        <Phone class="w-5 h-5 transition-transform duration-300" />
      </button>
    </div>
  </div>
</section>

<!-- Rellax.js Library -->
<script is:inline src="https://cdn.jsdelivr.net/npm/rellax@1.12.1/rellax.min.js"></script>

<script is:inline>
  // Initialize Rellax parallax
  function initRellax() {
    if (typeof Rellax !== 'undefined') {
      new Rellax('.rellax', {
        speed: -4,
        center: false,
        wrapper: null,
        round: true,
        vertical: true,
        horizontal: false
      });
    }
  }
  
  // Initialize on load
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initRellax);
  } else {
    initRellax();
  }

  // Smooth scroll para el botón CTA
  document.querySelectorAll('[data-scroll-to]').forEach(function(button) {
    button.addEventListener('click', function(e) {
      var target = e.currentTarget.getAttribute('data-scroll-to');
      if (target) {
        var element = document.getElementById(target);
        if (element) {
          element.scrollIntoView({ behavior: 'smooth' });
        }
      }
    });
  });
</script>

<style>
  .rellax {
    will-change: transform;
  }

  /* Asegurar que la imagen de fondo esté centrada en móvil */
  @media (max-width: 768px) {
    .rellax {
      background-position: center center !important;
      background-size: cover !important;
    }
  }
</style>
