---
import Layout from '../layouts/Layout.astro';
import NavBar from '../components/NavBar.astro';
import Hero from '../components/Hero.astro';
import About from '../components/About.astro';
import Services from '../components/Services.astro';
import Testimonials from '../components/Testimonials.astro';
import Contact from '../components/Contact.astro';
import Footer from '../components/Footer.astro';

import { translations } from '../i18n/locales/translations';
import type { Language } from '../types';

// Obtener el idioma desde la URL o usar ingl√©s por defecto
const lang = (Astro.url.searchParams.get('lang') || 'en') as Language;
const validLang: Language = lang === 'es' || lang === 'en' ? lang : 'en';

const t = translations[validLang];
---

<Layout title={`${t.companyName} | ${t.tagline}`} description={t.hero.subtitle}>
  <div class="min-h-screen">
    <NavBar t={t} lang={validLang} />
    <Hero t={t} />
    <About t={t} />
    <Services t={t} />
    <Contact t={t} />
    <Testimonials t={t} />
    <Footer t={t} />
  </div>
</Layout>
